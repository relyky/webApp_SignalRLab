@{
    ViewBag.Title = "Inbox";
    Layout = "~/Views/Shared/_NgLayoutPage1.cshtml";
}

@section javascripts {
    <!--The jQuery library is required and is referenced by default in _Layout.cshtml. -->
    <!--Reference the SignalR library. -->
    <script src="~/Scripts/jquery.signalR-2.2.2.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs"></script>
    @Scripts.Render("~/bundles/inbox")
}

@* BODY-CONTENT *@
<div class="container" ng-controller="mainCtrl" ng-init="init()" ng-cloak>

    <h2>@ViewBag.Title</h2>
    <p>Inbox；應用：KPI狀態監控</p>
    <p>AngularJS v1.6.4 + Bootstrap v3.3.7 + SignalR v2.2.2</p>
    <p>請先【註冊】才會有資料送過來。</p>

    <div class="btn-toolbar">
        <div class="btn-group">
            <button class="btn btn-primary" ng-click="resetDataList()">Clear</button>
        </div>
    </div>

    <div class="row">
        <div class="col-md-8 col-sm-12" style="background-color:whitesmoke;">
            <h3>資訊面板 <span class="label label-default">{{dataList.length}}</span></h3>

            <div class="alert alert-success alert-dismissable">
                <a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>
                <strong>Success!</strong> This alert box could indicate a successful or positive action.
            </div>

            <div ng-repeat="c in dataList" class="alert alert-{{c.notifyType}} alert-dismissable">
                <a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>
                <strong>{{c.notifyType}}</strong> {{c.notifyMsg}}
            </div>

        </div>
        <div class="col-md-4 col-sm-12" style="background-color:lavenderblush;">

            <form novalidate>
                <div class="form-group">
                    <label for="idName">ID Name:</label>
                    <input type="text" class="form-control" id="idName">
                </div>
                <button type="button" ng-click="registerUser()" class="btn btn-default">註冊</button>
            </form>

            <h3>SignalR 連線狀態</h3>
            <table class="table table-striped">
                @*<thead>
                        <tr>
                            <th>Name</th>
                            <th>Value</th>
                        </tr>
                    </thead>*@
                <tbody>
                    <tr>
                        <td>連線狀態</td>
                        <td>{{hobConnState}}</td>
                    </tr>
                    <tr>
                        <td>連線ID</td>
                        <td>{{hobConnId}}</td>
                    </tr>
                    <tr>
                        <td>註冊idName</td>
                        <td>{{idName}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>

